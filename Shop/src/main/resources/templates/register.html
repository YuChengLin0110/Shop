<!DOCTYPE html>
<html>
<head>
    <title>註冊會員</title>
    <meta charset="utf-8" />
    <meta name="viewport"
          content="width=device-width, initial-scale=1, user-scalable=no" />
    <link rel="stylesheet" href="css/main.css" />
</head>
<body class="is-preload">
<script src="http://code.jquery.com/jquery-latest.js"></script>
<script>
var accCheck = false;
var pwdCheck = false;

function accInit(){
	accCheck = false;
}

function checkAccount(){
	var account = $("#acc").val();
	$.ajax({
		url:"/checkAccount",
		type:"POST",
		dataType:"json",
		cache:"false",
		data:{"account":account},
		success:function(isExist){
			if(isExist == true){
				alert("帳號已存在");
				accCheck = false;
			}else{
				alert("帳號可使用");
				accCheck = true;
			}
		}
	})
}
function checkPwd() {
    if (pwd.value == pwdC.value) {
        $("#pwdCT").css("visibility","hidden");
        pwdCheck = true;
        }
        else{
        	$("#pwdCT").css("visibility","visible");
        	pwdCheck = false;
        }
}


function registerCheck(accCheck , pwdCheck){
	if(accCheck == true && pwdCheck == true){
		alert("註冊成功");

		return true;
	}else{
		alert("註冊失敗");

		return false;
	}
}

</script>
<!-- Wrapper -->
<div id="wrapper">

    <!-- Main -->
    <div id="main">
        <div class="inner">

            <!-- Header -->

            <header id="header"><strong>首頁>會員註冊</strong>
                <marquee direction="left" height="30" scrollamount="5" style="color:red;"></marquee>
            </header>

            <!-- Banner -->
            <section id="banner"> <!-- Form -->
                <form method="post" action="register" onsubmit="return registerCheck(accCheck , pwdCheck)">
                    <div class="row gtr-uniform">
                    <div class="col-12">
                    
                        <ul class="actions">
                            <li><input type="button" value="檢查帳號" class="primary" onclick="checkAccount()"/></li>
                        </ul>
                    </div>
                        <div class="col-12 col-12-xsmall">
                            <input type="text" id="acc" name="valUser" placeholder="帳號" oninput="accInit()"
                                   required />
                        </div>
                        <div class="col-12 col-12-xsmall">
                            <input type="password" id="pwd" name="valPwd"
                                   placeholder="密碼(4~12個字)" minlength="4" maxlength="12" oninput="checkPwd()" required />
                        </div>
                        <div class="col-12 col-12-xsmall">
                        <span id="pwdCT" style="color:red; visibility:hidden;">*密碼與確認密碼不符</span>                         
                            <input type="password" id="pwdC" name="valPwdCheck"
                                   placeholder="確認密碼(4~12個字)" minlength="4" maxlength="12" oninput="checkPwd()" required />
                        </div>
                        <div class="col-12 col-12-xsmall">
                            <input type="text" id="name" name="valName" placeholder="姓名"
                                   required />
                        </div>
                        <div class="col-12 col-12-xsmall">
                            <input type="text" id="addr" name="valAddr" placeholder="住址"
                                   required />
                        </div>
                        <div class="col-12 col-12-xsmall">
                            <input type="text" id="tel" name="valTel"
                                   placeholder="聯絡電話" required />
                        </div>
                        <div class="col-12 col-12-xsmall">
                            <input type="email" id="email" name="valEmail"
                                   placeholder="Email" required />
                        </div>
                    </div>
                    <br>
                    <div class="col-12">
                        <ul class="actions">
                            <li><input type="submit" value="註冊" class="primary" /></li>
                            <li><input type="reset" value="清空	" /></li>
                        </ul>
                    </div>
                </form>
                <!-- Break --> </section>
        </div>
    </div>

    <!-- Sidebar -->
    <div id="sidebar">
        <div class="inner">

            <!-- Search -->
            <section> <header>
                <h2>shop</h2>
            </header> </section>

            <!-- Menu -->
            <nav id="menu">
                <header class="major">
                    <h2>Menu</h2>
                </header>
                <ul>
                    <li><a href="/">回首頁</a></li>
                    <li><a href="product">瀏覽商品</a></li>
                    <li th:if="${isLogin == true}"><a href="logout">登出</a></li>
					<li th:if="${isLogin == true}"><a href="member">會員管理</a></li>
					<li th:if="${isLogin == true}"><a href="productAdmin">商品管理</a></li>
					<li th:if="${isLogin == true}"><a href="cart">購物車</a></li>
					<li th:if="${isLogin == true}"><a href="order">訂單</a></li>
					<li th:if="${isLogin == false}"><a href="login">會員登入</a></li>
					<li th:if="${isLogin == false}"><a href="register">會員註冊</a></li>
                </ul>
            </nav>

            <!-- Footer -->
            <footer id="footer">
                <div></div>
                <p class="copyright">&copy; Untitled. All rights reserved.</p>
            </footer>

        </div>
    </div>

</div>

<!-- Scripts -->
<script src="assets/js/jquery.min.js"></script>
<script src="assets/js/browser.min.js"></script>
<script src="assets/js/breakpoints.min.js"></script>
<script src="assets/js/util.js"></script>
<script src="assets/js/main.js"></script>

</body>
</html>